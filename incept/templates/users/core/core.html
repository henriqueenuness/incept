<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Incept Core</title>
</head>
<body>
    <div class="core">
        <div class="top-core">
            <div class="core-picture"><img src="data:image/png;base64, {{ perfil_user.core_picture }}"></div>
            
            <p class="nick">@{{perfil_user.nick}}</p>
            <p class="real_name">{{perfil_user.real_name|default_if_none:""}}</p>
            <p class="bio">{{perfil_user.bio|default_if_none:""}}</p>
            <p>{{perfil_user.art_style|default_if_none:""}}</p>
            <div class="div">
                <p>seguidores {{perfil_user.followers|default_if_none:"0"}}</p>
                <p>seguindo {{perfil_user.following|default_if_none:"0"}}</p>
                {% if perfil_user.cargo == "artista" %}
                    <p>artes {{perfil_user.arts|default_if_none:"0"}}</p>
                {% endif %}
                
            </div>
        </div>
            {% if perfil_user.nick == user.nick %}
                {% if request.user.cargo == "cliente" %}
                    <a href="{% url 'edit_core_pg' %}">editar core</a>
                {% else %}
                    <a href="{% url 'edit_core_pg' %}">editar core</a>
                    <a href="{% url 'new_post_pg' user.nick %}">new post</a>
                {% endif %}
            {% endif %}
        </div>
    </div>
    <div class="main-core">
        {% for img in imagens %}
            <div class="post">
                <img class="img-post" src="data:image/png;base64,{{ img.image }}" alt="{{ img.description }}">
                <a href="{% url 'like' img.id %}">{{img.likes_set.count}}</a>
                <p>{{img.date}}</p>
                <p>{{img.description}}</p>
                {% if perfil_user.nick == user.nick %}
                    <a href="{% url 'delete_post' img.id %}">delete post</a>
                {% endif %}
            </div>
        {% empty %}
            {%if request.user.cargo == "artista" %}
                <p>nada ainda</p>
            {%endif%}
        {% endfor %}
    </div>

</body>
<style>

    @import url('https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap');
    .core-picture{
        display: flex;
        width: 300px;
        height: calc(width);
        background: linear-gradient(90deg, #3838FF, #151515);
        margin: 0;
        border-radius: 100%;
        padding: 0;
        justify-content: center;
        align-items: center;
        animation: rotation 5s linear infinite;
    }
    @keyframes rotation{
        0%{
            transform: rotate(0deg);
        }
        100%{
            transform: rotate(359deg);
        }
    }
    .core-picture img{
        border-radius: 100%;
        width: 100px;
        height: 100px;
        scale: .9;
        object-fit: cover;     
        animation: rotation 5s linear reverse infinite;   
    }
    .post{
        max-width: 500px;
        max-height: 500px;
        border-radius: 15px;
        display: flex;
        flex-direction:column;
        margin: 10px;
    }
    .main-core{
        display: flex;
        flex-direction: column-reverse;
    }
    .img-post{
        display: flex;
        max-width: 400px;
        max-height: 400px;
        border-radius: 15px;
    }
    body{
        background: #151515;
        color:white;
        font-family: 'montserrat';
    }
    .core{
        display: flex;
        flex-direction: column;
        margin:0;
        width: 500px;
    }
    .nick{
        font-weight: bold;
        font-size: 48px;
    }
    .top-core{
        display: flex;
        margin:0;
        padding:0;
        gap:15px;
        margin: 0;
        align-items: center;
    }
    .real_name{
        font-size: 25px;
        color:#878383;
    }
    p{
        margin: 0;
        padding: 0;
    }
    .bio{
        font-size: 20px;
        width: 500px;
    }
    a{
        color:#3838FF;
        text-decoration: none;
    }
</style>
</html>